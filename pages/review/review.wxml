<view class="container font-lvl-{{fontSizeLevel}} {{isDarkMode ? 'dark-mode' : ''}}">
  
  <!-- é¡¶éƒ¨è¿›åº¦æŒ‡ç¤º -->
  <view class="progress-bar">
    <text class="progress-text">å¡ç‰‡ {{currentIndex + 1}} / {{wordList.length}}</text>
    <view class="progress-track">
      <view class="progress-fill" style="width: {{((currentIndex + 1) / wordList.length) * 100}}%;"></view>
    </view>
  </view>

  <!-- å¡ç‰‡æ»‘åŠ¨åŒºåŸŸ -->
  <!-- [ä¿®å¤] å¢åŠ  current="{{currentIndex}}" å±æ€§ï¼Œä½¿ Swiper è·Ÿéšæ•°æ®å˜åŒ– -->
  <swiper class="card-swiper" current="{{currentIndex}}" bindchange="onSwiperChange" previous-margin="40rpx" next-margin="40rpx">
    <block wx:for="{{wordList}}" wx:key="id">
      <swiper-item class="card-swiper-item">
        
        <!-- 3D ç¿»è½¬å®¹å™¨ -->
        <view class="flip-container {{item.isFlipped ? 'flipped' : ''}}" bindtap="toggleFlip" data-index="{{index}}">
          <view class="flipper">
            
            <!-- æ­£é¢ (Front): ä¸­æ–‡ + è‹±æ–‡ + å›¾ç‰‡ -->
            <view class="card-face front">
              <view class="card-content">
                <view class="hint-tag">ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</view>
                
                <view class="front-text-group">
                  <text class="cn-text">{{item.chinese}}</text>
                  <text class="en-text">{{item.english}}</text>
                </view>

                <image class="scene-img" src="{{item.portrait}}" mode="aspectFill" wx:if="{{item.portrait}}"></image>
                <view class="img-placeholder" wx:else>ğŸ‡¹ğŸ‡¿</view> <!-- æ— å›¾æ—¶çš„å ä½ -->
              
                <view class="bottom-hint">?</view>
              </view>
            </view>

            <!-- èƒŒé¢ (Back): æ–¯è¯­ + è°éŸ³ + å‘éŸ³ -->
            <view class="card-face back">
              <view class="card-content back-content">
                <view class="sw-group">
                  <text class="sw-label">Swahili</text>
                  <text class="sw-word">{{item.swahili}}</text>
                </view>

                <view class="play-btn-large" catchtap="playAudio" data-item="{{item}}">
                  <text>ğŸ”Š</text>
                </view>

                <view class="homonym-box">
                  <text class="tag">è°éŸ³</text>
                  <text class="hm-text">{{item.xieyin}}</text>
                </view>

                <view class="action-row">
                  <view class="action-btn known" catchtap="markKnown">æˆ‘è®¤è¯†</view>
                  <view class="action-btn forgot" catchtap="markForgot">å¿˜è®°äº†</view>
                </view>
              </view>
            </view>

          </view>
        </view>

      </swiper-item>
    </block>
  </swiper>

  <!-- åº•éƒ¨æç¤º -->
  <view class="footer-hint">
    <text>â† å·¦å³æ»‘åŠ¨åˆ‡æ¢ Â· ç‚¹å‡»å¡ç‰‡ç¿»è½¬ â†’</text>
  </view>
</view>