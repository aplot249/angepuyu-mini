/* 页面容器 full height */
.container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: var(--bg-color);
  padding: 0;
  overflow: hidden;
}

/* 顶部进度条 */
.progress-bar {
  padding: 30rpx 40rpx 10rpx;
  text-align: center;
}
.progress-text {
  font-size: var(--text-sm);
  color: var(--text-sub);
  font-weight: bold;
  margin-bottom: 10rpx;
  display: block;
}
.progress-track {
  width: 100%;
  height: 8rpx;
  background: rgba(0,0,0,0.05);
  border-radius: 4rpx;
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #FEC99D, #FF7043);
  transition: width 0.3s ease;
}
.dark-mode .progress-track { background: rgba(255,255,255,0.1); }

/* Swiper 区域 */
.card-swiper {
  flex: 1;
  width: 100%;
  padding-top: 40rpx;
  padding-bottom: 60rpx;
}
.card-swiper-item {
  display: flex;
  justify-content: center;
  align-items: center;
  /* 确保 swiper item 内有 perspective 以支持 3D */
  perspective: 1000px; 
}

/* --- 3D 翻转核心样式 --- */
.flip-container {
  width: 600rpx;
  height: 900rpx;
  position: relative;
}

.flipper {
  width: 100%;
  height: 100%;
  transition: 0.6s;
  transform-style: preserve-3d;
  position: relative;
}

/* 翻转状态 */
.flip-container.flipped .flipper {
  transform: rotateY(180deg);
}

/* 卡片正反面通用 */
.card-face {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  backface-visibility: hidden; /* 关键：隐藏背面 */
  border-radius: 40rpx;
  box-shadow: 0 20rpx 50rpx rgba(141, 110, 99, 0.15);
  background: var(--card-bg);
  border: 1rpx solid rgba(254, 201, 157, 0.2);
  overflow: hidden;
}
.dark-mode .card-face {
  box-shadow: 0 20rpx 50rpx rgba(0, 0, 0, 0.4);
}

/* 正面样式 */
.front {
  z-index: 2;
  transform: rotateY(0deg);
}

/* 背面样式 */
.back {
  transform: rotateY(180deg);
  background: linear-gradient(135deg, #FFF3E0 0%, #FFFFFF 100%);
}
.dark-mode .back {
  background: linear-gradient(135deg, #2D2420 0%, #1C1917 100%);
}

/* --- 卡片内容布局 --- */
.card-content {
  width: 100%; height: 100%;
  display: flex; flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60rpx 40rpx;
  box-sizing: border-box;
}

/* 正面元素 */
.hint-tag {
  font-size: var(--text-xs);
  color: #FFAB91;
  letter-spacing: 2rpx;
  margin-bottom: 60rpx;
  text-transform: uppercase;
}
.front-text-group {
  text-align: center;
  margin-bottom: 60rpx;
}
.cn-text {
  display: block;
  font-size: 60rpx; /* 大字 */
  font-weight: 900;
  color: var(--text-main);
  margin-bottom: 10rpx;
}
.en-text {
  font-size: var(--text-base);
  color: var(--text-sub);
  font-style: italic;
}
.scene-img {
  width: 400rpx; height: 300rpx;
  border-radius: 20rpx;
  box-shadow: 0 8rpx 20rpx rgba(0,0,0,0.1);
  background: #f0f0f0;
}
.img-placeholder {
  font-size: 100rpx;
  opacity: 0.2;
}
.bottom-hint {
  margin-top: auto;
  font-size: 80rpx;
  color: rgba(254, 201, 157, 0.3);
  font-weight: 900;
}

/* 背面元素 */
.back-content {
  justify-content: space-between;
  padding-top: 100rpx;
  padding-bottom: 80rpx;
}
.sw-group { text-align: center; }
.sw-label { font-size: var(--text-xs); color: var(--text-sub); letter-spacing: 4rpx; text-transform: uppercase; margin-bottom: 20rpx; display: block;}
.sw-word {
  font-size: 70rpx; /* 特大字 */
  font-weight: 900;
  color: #BF360C;
  line-height: 1.1;
}
.dark-mode .sw-word { color: #FF7043; }

.play-btn-large {
  width: 140rpx; height: 140rpx;
  background: linear-gradient(135deg, #FF8A65, #FF7043);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 60rpx;
  color: white;
  box-shadow: 0 10rpx 30rpx rgba(255, 112, 67, 0.3);
}
.play-btn-large:active { transform: scale(0.95); }

.homonym-box {
  background: rgba(254, 201, 157, 0.2);
  padding: 16rpx 30rpx;
  border-radius: 20rpx;
  display: flex; align-items: center;
}
.tag { font-size: 20rpx; color: #BF360C; background: #FFCCBC; padding: 4rpx 8rpx; border-radius: 6rpx; margin-right: 12rpx; }
.hm-text { font-size: var(--text-lg); color: var(--text-main); font-weight: bold; }

.action-row {
  display: flex; gap: 30rpx; width: 100%;
}
.action-btn {
  flex: 1; text-align: center; padding: 20rpx 0;
  border-radius: 40rpx; font-weight: bold; font-size: var(--text-sm);
}
.action-btn.known { background: #E0F2F1; color: #00695C; }
.action-btn.forgot { background: #FBE9E7; color: #D84315; }

/* 底部提示 */
.footer-hint {
  text-align: center;
  padding-bottom: 40rpx;
  color: var(--text-sub);
  font-size: var(--text-xs);
  opacity: 0.6;
}