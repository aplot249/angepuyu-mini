<view class="container list-page font-lvl-{{fontSizeLevel}} {{isDarkMode ? 'dark-mode' : ''}}">
  <!-- é¡¶éƒ¨å›ºå®šåŒº -->
  <view class="fixed-header">
    <input class="main-search" placeholder="ğŸ” æœç´¢ä¸­æ–‡ã€è‹±è¯­æˆ–æ–¯ç“¦è¥¿é‡Œè¯­" bindinput="onSearch" value="{{keyword}}" />
    
    <view class="segment-tab">
      <view class="segment-item {{currentTab === 0 ? 'active' : ''}}" bindtap="switchTab" data-idx="0">å•è¯åº“</view>
      <view class="segment-item {{currentTab === 1 ? 'active' : ''}}" bindtap="switchTab" data-idx="1">çŸ­è¯­é›†</view>
    </view>
  </view>

  <!-- æ»‘åŠ¨å†…å®¹åŒº (Swiperå®ç°å·¦å³æ»‘åŠ¨åˆ‡æ¢Tab) -->
  <swiper class="content-swiper" current="{{currentTab}}" bindchange="onSwiperChange">
    
    <!-- å•è¯åˆ—è¡¨ -->
    <swiper-item>
      <scroll-view scroll-y class="scroll-area" bindscrolltolower="loadMore">
        <block wx:for="{{wordList}}" wx:key="id">
          <view class="card detail-card">
            <view class="card-body">
              <view class="info-col">
                <text class="sw-title">{{item.swahili}}</text>
                <text class="en-sub">English: {{item.english}}</text>
                <view class="homonym-row">
                  <text class="badge">è°éŸ³</text>
                  <text class="homonym-text">{{item.xieyin}}</text>
                </view>
                <text class="cn-main">{{item.chinese}}</text>
              </view>
              <!-- å•è¯æ˜¾ç¤ºå›¾ç‰‡ -->
              <image class="word-img" src="{{item.portrait}}" mode="aspectFill"></image>
            </view>
            
            <view class="card-footer">
              <view class="actions">
                <view class="btn-pill" bindtap="playAudio" data-item="{{item}}" data-type="word">
                  <text>ğŸ”Š æ’­æ”¾</text>
                </view>
                <view class="icon-btn {{item.isFav ? 'fav-active' : ''}}" bindtap="toggleFav" data-id="{{item.id}}">
                  <text>{{item.isFav ? 'â¤ï¸' : 'ğŸ¤'}}</text>
                </view>
              </view>
              <view class="feedback-btn" bindtap="onCorrection">çº é”™</view>
            </view>
          </view>
        </block>
        <!-- åˆ†é¡µåŠ è½½æç¤º -->
        <view class="loading-tip">
           <text wx:if="{{hasMoreWords}}">åŠ è½½ä¸­...</text>
           <text wx:else>--- åˆ°åº•å•¦ ---</text>
        </view>
      </scroll-view>
    </swiper-item>

    <!-- çŸ­è¯­åˆ—è¡¨ -->
    <swiper-item>
      <scroll-view scroll-y class="scroll-area" bindscrolltolower="loadMore">
        <block wx:for="{{phraseList}}" wx:key="id">
          <view class="card detail-card phrase-style">
            <view class="card-body">
              <view class="info-col">
                <text class="sw-title">{{item.swahili}}</text>
                <text class="en-sub">{{item.english}}</text>
                <view class="homonym-row">
                   <text class="homonym-text text-sub">/ {{item.xieyin}} /</text>
                </view>
                <text class="cn-main text-primary">{{item.chinese}}</text>
              </view>
            </view>
            
            <view class="card-footer">
              <view class="actions">
                <view class="btn-pill orange" bindtap="playAudio" data-item="{{item}}" data-type="phrase">
                  <text>ğŸ”Š æœ—è¯»</text>
                </view>
                <view class="icon-btn {{item.isFav ? 'fav-active' : ''}}" bindtap="toggleFav" data-id="{{item.id}}">
                  <text>{{item.isFav ? 'â¤ï¸' : 'ğŸ¤'}}</text>
                </view>
              </view>
              <view class="feedback-btn" bindtap="onCorrection">çº é”™</view>
            </view>
          </view>
        </block>
        <view class="loading-tip">
           <text wx:if="{{hasMorePhrases}}">åŠ è½½ä¸­...</text>
           <text wx:else>--- åˆ°åº•å•¦ ---</text>
        </view>
      </scroll-view>
    </swiper-item>

  </swiper>
</view>