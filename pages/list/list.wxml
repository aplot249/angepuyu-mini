<view class="container list-page font-lvl-{{fontSizeLevel}} {{isDarkMode ? 'dark-mode' : ''}}">
  
  <!-- È°∂ÈÉ®Âõ∫ÂÆöÂå∫ (‰øùÊåÅ‰∏çÂèò) -->
  <view class="fixed-header">
    <input class="main-search" placeholder="Âú®{{subname}}‰∏≠Êü•Êâæ{{currentTab==0?'ÂçïËØç':'Áü≠ËØ≠'}}..." bindinput="onSearch" value="{{keyword}}" placeholder-class="ph-color"/>
    
    <view class="segment-tab">
      <view class="segment-item {{currentTab === 0 ? 'active' : ''}}" bindtap="switchTab" data-idx="0">ÂçïËØç</view>
      <view class="segment-item {{currentTab === 1 ? 'active' : ''}}" bindtap="switchTab" data-idx="1">Áü≠ËØ≠</view>
    </view>
  </view>

  <!-- ÊªëÂä®ÂÜÖÂÆπÂå∫ -->
  <swiper class="content-swiper" current="{{currentTab}}" bindchange="onSwiperChange">
    
    <!-- 1. ÂçïËØçÂàóË°® -->
    <swiper-item>
      <scroll-view scroll-y class="scroll-area" bindscrolltolower="loadMore">
        
        <block wx:for="{{wordList}}" wx:key="id">
          <view class="card item-card word-layout" bind:tap="playAudio" data-type="word" data-item="{{item}}" data-xiaohao="{{item.xiaohao}}">
            <view class="card-main">
              <!-- [‰øÆÊîπ] Ê†∏ÂøÉ‰ø°ÊÅØÊîæÂ∑¶‰æß -->
              <view class="info-col">
                <view class="row-flex">
                  <text class="sw-text">{{item.swahili}}</text>
                  <!-- ËØ≠Èü≥Êí≠ÊîæÊåâÈíÆ (Â§ß) -->
                  <view class="play-btn" catchtap="playAudio" data-type="word" data-item="{{item}}" data-xiaohao="{{item.xiaohao}}">üîä</view>
                </view>
                
                <view class="homonym-box">
                  <text class="tag">Ë∞êÈü≥</text>
                  <text class="hm-text">{{item.xieyin}}</text>
                </view>

                <view class="trans-box">
                  <text class="cn-text">{{item.chinese}}</text>
                  <text class="en-text">{{item.english}}</text>
                </view>
              </view>

              <!-- [‰øÆÊîπ] ÂõæÁâáÊîæÂè≥‰æßÔºå‰∏îÈùûÂøÖÈ°ª (wx:if) -->
              <image wx:if="{{item.portrait}}" class="word-img" src="{{item.portrait}}" mode="aspectFill" lazy-load></image>
            </view>

            <!-- Â∫ïÈÉ®Êìç‰ΩúÊ†è -->
            <view class="card-footer">
              <!-- Â∑¶‰∏ãÔºöÊî∂Ëóè (Â§ß) -->
              <view class="action-fav" catchtap="toggleFav" data-isFav="{{item.isFav}}" data-id="{{item.id}}">
                <text class="fav-icon {{item.isFav ? 'active' : ''}}">{{item.isFav ? '‚ù§Ô∏è' : 'ü§ç'}}</text>
                <text class="fav-label {{item.isFav ? 'active' : ''}}">{{item.isFav ? 'ÁßªÂá∫Â≠¶‰π†' : 'Âä†ÂÖ•Â≠¶‰π†'}}</text>
              </view>
              
              <!-- Âè≥‰∏ãÔºöÁ∫†Èîô (Â∞è) -->
              <view class="action-fix">
                <text catchtap="jiucuoCtitem" data-dd="{{item.id}}">Á∫†Èîô</text>
              </view>
            </view>
          </view>
        </block>

        <view class="loading-tip" wx:if="{{wordList.length > 0}}">
           <text wx:if="{{hasMoreWords}}">Âä†ËΩΩ‰∏≠...</text>
           <text wx:else>--- Âà∞Â∫ïÂï¶ ---</text>
        </view>
        <view style="height: 100rpx;"></view>
      </scroll-view>
    </swiper-item>

    <!-- 2. Áü≠ËØ≠ÂàóË°® (‰øùÊåÅ‰∏çÂèò) -->
    <swiper-item>
      <scroll-view scroll-y class="scroll-area" bindscrolltolower="loadMore">
        
        <block wx:for="{{phraseList}}" wx:key="id">
          <view class="card item-card phrase-layout" bind:tap="playAudio" data-type="phrase" data-item="{{item}}" data-xiaohao="{{item.xiaohao}}">
            <!-- È°∂ÈÉ®ÔºöÊñØËØ≠ÈïøÂè• + Êí≠Êîæ -->
            <view class="phrase-header">
              <text class="sw-sentence">{{item.swahili}}</text>
              <view class="play-btn large" catchtap="playAudio" data-item="{{item}}">üîä</view>
            </view>

            <!-- ‰∏≠ÈÉ®ÔºöË∞êÈü≥ -->
            <view class="homonym-row">
              <text class="tag">Ë∞êÈü≥</text>
              <text class="hm-sentence">{{item.xieyin}}</text>
            </view>

            <!-- ‰∏≠ÈÉ®ÔºöÈáä‰πâ -->
            <view class="meaning-col">
              <text class="cn-sentence">{{item.chinese}}</text>
              <text class="en-sentence">{{item.english}}</text>
            </view>

            <!-- Â∫ïÈÉ®Êìç‰ΩúÊ†è -->
            <view class="card-footer phrase-footer">
              <view class="action-fav" catchtap="toggleFav" data-isFav="{{item.isFav}}" data-id="{{item.id}}">
                <text class="fav-icon {{item.isFav ? 'active' : ''}}">{{item.isFav ? '‚ù§Ô∏è' : 'ü§ç'}}</text>
                <text class="fav-label {{item.isFav ? 'active' : ''}}">{{item.isFav ? 'ÁßªÂá∫Â≠¶‰π†' : 'Âä†ÂÖ•Â≠¶‰π†'}}</text>
              </view>
              <view class="action-fix" catchtap="jiucuoCtitem" data-item="{{item}}">
                <text catchtap="jiucuoCtitem" data-dd="{{item.id}}">Á∫†Èîô</text>
              </view>
            </view>
          </view>
        </block>

        <view class="loading-tip" wx:if="{{phraseList.length > 0}}">
           <text wx:if="{{hasMorePhrases}}">Âä†ËΩΩ‰∏≠...</text>
           <text wx:else>--- Âà∞Â∫ïÂï¶ ---</text>
        </view>
        <view style="height: 100rpx;"></view>
      </scroll-view>
    </swiper-item>

  </swiper>

  <points-modal visible="{{showNoPointsModal}}" />

</view>