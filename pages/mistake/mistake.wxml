<view class="container font-lvl-{{fontSizeLevel}} {{isDarkMode ? 'dark-mode' : ''}}">
  
  <!-- é¡¶éƒ¨ç»Ÿè®¡æ¦‚è§ˆ -->
  <view class="stats-header">
    <view class="stats-bg"></view>
    <view class="stats-content">
      <view class="stats-column">
        <text class="stats-num">{{mistakeList.length}}</text>
        <text class="stats-label">å¾…æ”»å…‹é”™é¢˜</text>
      </view>
      <view class="stats-divider"></view>
      <view class="stats-column">
        <text class="stats-num">{{masteredCount}}</text>
        <text class="stats-label">å·²æ¶ˆç­</text>
      </view>
    </view>
  </view>

  <!-- é”™é¢˜åˆ—è¡¨ -->
  <scroll-view scroll-y class="mistake-list" wx:if="{{mistakeList.length > 0}}">
    <block wx:for="{{mistakeList}}" wx:key="id">
      <view class="mistake-card">
        
        <!-- å·¦ä¾§é«˜äº®è¾¹æ¡ (æ ¹æ®é”™è¯¯æ¬¡æ•°å˜è‰²) -->
        <view class="severity-bar {{item.errorCount > 3 ? 'high' : 'normal'}}"></view>

        <view class="card-content">
          <view class="card-top">
            <view class="word-info">
              <text class="sw-word">{{item.question}}</text>
              <view class="tag-row">
                <text class="tag-error">é”™è¯¯ {{item.errorCount}} æ¬¡</text>
                <text class="tag-time">{{item.lastDate}}</text>
              </view>
            </view>
            <view class="play-btn-mini" catchtap="playAudio" data-word="{{item.question}}">ğŸ”Š</view>
          </view>
          
          <view class="card-middle">
            <text class="cn-hint">æ­£ç¡®é‡Šä¹‰ï¼š{{item.answerStr}}</text>
          </view>

          <view class="card-bottom">
            <view class="btn-master" bindtap="markAsMastered" data-id="{{item.id}}">
              <text>âœ… æˆ‘å­¦ä¼šäº†</text>
            </view>
            <view class="btn-quiz" bindtap="goToQuiz" data-id="{{item.id}}">
              <text>âš”ï¸ å»æ”»å…‹</text>
            </view>
          </view>
        </view>

      </view>
    </block>
    <!-- åº•éƒ¨å«é«˜ -->
    <view style="height: 60rpx;"></view>
  </scroll-view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <view class="empty-icon">ğŸ‰</view>
    <text class="empty-text">å¤ªæ£’äº†ï¼é”™é¢˜æœ¬ç©ºç©ºå¦‚ä¹Ÿ</text>
    <text class="empty-sub">å¿«å»æ¯æ—¥ç»ƒä¹ æŒ‘æˆ˜æ–°é¢˜ç›®å§</text>
    <view class="btn-go-quiz" bindtap="goHomeQuiz">å»ç»ƒä¹ </view>
  </view>

</view>