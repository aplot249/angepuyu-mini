<view class="container font-lvl-{{fontSizeLevel}} {{isDarkMode ? 'dark-mode' : ''}}">
  
  <!-- é¡¶éƒ¨ç»Ÿè®¡æ¦‚è§ˆ -->
  <view class="stats-header">
    <view class="stats-bg"></view>
    <view class="stats-content">
      <view class="stats-column">
        <text class="stats-num">{{nomasteredCount}}</text>
        <text class="stats-label">å¾…æ”»å…‹é”™é¢˜</text>
      </view>
      <view class="stats-divider"></view>
      <view class="stats-column">
        <text class="stats-num">{{masteredCount}}</text>
        <text class="stats-label">å·²æ¶ˆç­</text>
      </view>
    </view>
  </view>

  <!-- é”™é¢˜åˆ—è¡¨ -->
  <view class="mistake-list" wx:if="{{mistakeList.length > 0}}">
    <block wx:for="{{mistakeList}}" wx:key="id">
      
      <!-- [ä¿®æ”¹] ç»‘å®šç‚¹å‡»æ•´ä¸ªå¡ç‰‡æ’­æ”¾éŸ³é¢‘ -->
      <view class="mistake-card" bindtap="playAudio" data-word="{{item}}">
        
        <!-- [å·²ç§»é™¤] å·¦ä¾§é«˜äº®è¾¹æ¡ -->

        <view class="card-content">
          <view class="card-top">
            <view class="word-info">
              <text class="sw-word">{{item.swahili}}</text>
              <view class="tag-row">
                <text class="tag-error">é”™è¯¯ {{item.num}} æ¬¡</text>
                <text class="tag-time">{{item.create_time}}</text>
              </view>
            </view>
            <!-- å°å–‡å­å›¾æ ‡ä½œä¸ºè§†è§‰æç¤º -->
            <view class="play-icon-mini">ğŸ”Š</view>
          </view>
          
          <view class="card-middle">
            <!-- æ­£ç¡®é‡Šä¹‰ -->
            <view style="margin-bottom: 8rpx;">
              <text class="cn-hint">âœ… æ­£ç¡®ï¼š{{item.chinese}}</text>
            </view>
            <!-- [æ–°å¢] æ··æ·†é‡Šä¹‰ -->
            <view>
              <text class="cn-hint" style="color: #BF360C; opacity: 0.8;">âŒ æ˜“æ··ï¼š{{item.answers || 'æš‚æ— è®°å½•'}}</text>
            </view>
          </view>

          <!-- [ä¿®æ”¹] åº•éƒ¨åªä¿ç•™â€œæˆ‘å­¦ä¼šäº†â€æŒ‰é’® -->
          <view class="card-bottom">
            <view class="btn-master" catchtap="markAsMastered" data-id="{{item.id}}">
              <text>âœ… æˆ‘å­¦ä¼šäº†</text>
            </view>
          </view>
        </view>

      </view>
    </block>

    <!-- åŠ è½½çŠ¶æ€æç¤º -->
    <view class="loading-more">
      <block wx:if="{{isLoading}}">
        <text>ğŸ”„ åŠ è½½ä¸­...</text>
      </block>
      <block wx:elif="{{!hasMore}}">
        <text>â€” æ²¡æœ‰æ›´å¤šé”™é¢˜äº† â€”</text>
      </block>
    </view>
    
    <!-- åº•éƒ¨å«é«˜ -->
    <view style="height: 60rpx;"></view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!isLoading && mistakeList.length === 0}}">
    <view class="empty-icon">ğŸ‰</view>
    <text class="empty-text">å¤ªæ£’äº†ï¼é”™é¢˜æœ¬ç©ºç©ºå¦‚ä¹Ÿ</text>
    <text class="empty-sub">å¿«å»æ¯æ—¥ç»ƒä¹ æŒ‘æˆ˜æ–°é¢˜ç›®å§</text>
  </view>

</view>